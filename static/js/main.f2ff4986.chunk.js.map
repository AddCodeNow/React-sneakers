{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/info.jsx","components/Drawer/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","Number","price","Header","onClickCard","className","to","width","height","src","alt","onClick","Info","title","description","image","setCardOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","isOrderComplete","setIsOrderComplete","orderId","serOrderId","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","Math","round","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavoritesAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddFavorite","onAddToCart","onChange","value","type","placeholder","filteredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cardOpened","all","itemsResponse","cartResponse","favoritesResponse","fetchData","findItem","find","onRemoveItem","findFavorite","favObj","Provider","some","path","exact","event","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2ff4986.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__3OuOo\",\"overlayVisible\":\"Drawer_overlayVisible__1h0BR\",\"drawer\":\"Drawer_drawer__3erjf\",\"items\":\"Drawer_items__3Y3sl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3xeXD\",\"favorite\":\"Card_favorite__39M6b\",\"plus\":\"Card_plus__FmGGC\"};","import {createContext} from \"react\";\r\n\r\nconst AppContext = createContext({});\r\n\r\nexport default AppContext;\r\n","import {useContext} from \"react\";\r\nimport AppContext from \"../context\";\r\n\r\nexport const useCart = () => {\r\n  const {cartItems, setCartItems} = useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => Number(obj.price) + sum, 0);\r\n\r\n  return {cartItems, setCartItems, totalPrice};\r\n}","import {Link} from \"react-router-dom\";\r\nimport {useCart} from \"../hooks/useCart\";\r\n\r\nexport const Header = ({onClickCard}) => {\r\n\r\n  const {totalPrice} = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"img/logo.png\" alt=\"logo img\"/>\r\n          <div>\r\n            <h3 className=\"text-uppercase\">REACT SNEAKERS</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n\r\n\r\n      <ul className=\"d-flex align-center\">\r\n        <li className=\"mr-30 cu-p\" onClick={onClickCard}>\r\n          <img width={18} height={18} src=\"img/card.svg\" alt=\"card icon\"/>\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-10 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"img/like.svg\" alt=\"like icon\"/>\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width={20} height={20} src=\"img/user.svg\" alt=\"user icon\"/>\r\n          </Link>\r\n\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  )\r\n}","import {useContext} from \"react\";\r\nimport AppContext from \"../context\";\r\n\r\nexport const Info = ( {title, description, image}) => {\r\n  const {setCardOpened} = useContext(AppContext);\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\"/>\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCardOpened(false)} className=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n}","import {useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {useCart} from \"../../hooks/useCart\";\r\nimport {Info} from \"../info\";\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const Drawer = ({onClose, onRemove, items = [], opened,}) => {\r\n  const {cartItems, setCartItems, totalPrice} = useCart();\r\n  const [isOrderComplete, setIsOrderComplete] = useState(null);\r\n  const [orderId, serOrderId] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const {data} = await axios.post(\"https://61237a91124d88001756829a.mockapi.io/orders\", {\r\n        items: cartItems\r\n      });\r\n\r\n      serOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://61237a91124d88001756829a.mockapi.io/Cart/' + item.id);\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert(\"Ошибка при создании заказа :(\");\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : \"\" }`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"mb-30 d-flex align-center justify-between\">\r\n          Корзина\r\n          <img className=\"removeBtn cu-p\" src=\"img/btn-remove.svg\" alt=\"close\" onClick={onClose}/>\r\n        </h2>\r\n        {\r\n          items.length > 0 ?\r\n            <div className=\"d-flex flex-column flex\">\r\n              <div className=\"items flex\">\r\n                {items.map((obj) => (\r\n                  <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                    <div style={{backgroundImage: `url(${obj.imageUrl})`}} className=\"cartItemIng\"></div>\r\n                    <div className=\"mr-20 flex\">\r\n                      <p className=\"mb-5\">\r\n                        {obj.title}\r\n                      </p>\r\n                      <b>{obj.price} руб.</b>\r\n                    </div>\r\n                    <img onClick={() => onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"remove\"/>\r\n                  </div>\r\n                ))}\r\n\r\n              </div>\r\n              <div className=\"cartTotalBlock\">\r\n                <ul>\r\n                  <li>\r\n                    <span>Итого:</span>\r\n                    <div></div>\r\n                    <b>{totalPrice} руб.</b>\r\n                  </li>\r\n                  <li>\r\n                    <span>Налог 5%</span>\r\n                    <div></div>\r\n                    <b>{Math.round((totalPrice) / 100 * 5)} руб.</b>\r\n                  </li>\r\n                </ul>\r\n                <button\r\n                  onClick={onClickOrder}\r\n                  className=\"greenButton\"\r\n                  disabled={isLoading}\r\n                >\r\n                  Офрмить заказ <img src=\"img/arrow.svg\" alt=\"arrow\"/>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            : (\r\n              <Info\r\n                title={isOrderComplete ? \"Заказ оформлен\" : \"Корзина пустая\"}\r\n                description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.\"}\r\n                image={isOrderComplete ? \"img/complete-order.png\" : \"img/empty.png\"}\r\n              />\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {useContext, useState} from \"react\";\r\nimport ContentLoader from \"react-content-loader\"\r\nimport style from './Card.module.scss';\r\nimport AppContext from \"../../context\";\r\n\r\nexport const Card = ({\r\n                       id,\r\n                       title,\r\n                       price,\r\n                       imageUrl,\r\n                       onFavorite,\r\n                       onPlus,\r\n                       favorited = false,\r\n                       loading = false\r\n                     }) => {\r\n  const {isItemAdded, isFavoritesAdded} = useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = useState(favorited);\r\n\r\n  const obj = {id, parentId: id, title, price, imageUrl};\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  }\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={style.card}>\r\n      {\r\n        loading ? (\r\n            <ContentLoader\r\n              speed={2}\r\n              width={150}\r\n              height={187}\r\n              viewBox=\"0 0 150 187\"\r\n              backgroundColor=\"#ecebeb\"\r\n              foregroundColor=\"#ecebeb\"\r\n            >\r\n              <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"90\"/>\r\n              <rect x=\"0\" y=\"100\" rx=\"5\" ry=\"5\" width=\"150\" height=\"15\"/>\r\n              <rect x=\"1\" y=\"128\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\"/>\r\n              <rect x=\"0\" y=\"159\" rx=\"5\" ry=\"5\" width=\"80\" height=\"24\"/>\r\n              <rect x=\"118\" y=\"154\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\"/>\r\n            </ContentLoader>\r\n          ) :\r\n          (\r\n            <>\r\n              {\r\n                onFavorite &&\r\n                <div className={style.favorite} onClick={onClickFavorite}>\r\n                  <img src={isFavoritesAdded(id) ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\"/>\r\n                </div>\r\n              }\r\n              <img width={133} height={112} src={imageUrl} alt=\"sneakers\"/>\r\n              <h5>{title}</h5>\r\n              <div className=\"d-flex justify-between align-center\">\r\n                <div className=\"d-flex flex-column\">\r\n                  <span>Цена</span>\r\n                  <b>{price} руб.</b>\r\n                </div>\r\n                {onPlus && <img\r\n                  className={style.plus}\r\n                  onClick={onClickPlus}\r\n                  src={isItemAdded(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"}\r\n                  alt=\"icon\"\r\n                />}\r\n              </div>\r\n            </>\r\n          )\r\n      }\r\n    </div>\r\n  )\r\n}","import {Card} from \"../components/Card\";\r\n\r\nexport const Home = ({items, searchValue, setSearchValue, onChangeSearchInput, onAddFavorite, onAddToCart, isLoading}) => {\r\n\r\n\r\n    const renderItems = () => {\r\n        const filteredItems = items.filter((item) =>\r\n            item.title.toLowerCase().includes(searchValue)\r\n        );\r\n        return (isLoading ? [...Array(6)] : filteredItems).map((item, index) => (\r\n            <Card\r\n                key={index}\r\n                onFavorite={(obj) => onAddFavorite(obj)}\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n                loading={isLoading}\r\n                {...item}\r\n            />\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex justify-between align-center mb-40\">\r\n                <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"`: \"Все кросовки\"}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"img/search.svg\" alt=\"Search\"/>\r\n                    {\r\n                        searchValue &&\r\n                        <img\r\n                            onClick={() => setSearchValue('')}\r\n                            className=\"clear cu-p\"\r\n                            src=\"img/btn-remove.svg\"\r\n                            alt=\"Search\"\r\n                        />\r\n                    }\r\n                    <input onChange={onChangeSearchInput} value={searchValue} type=\"text\" placeholder=\"Поиск\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex flex-wrap\">\r\n                {renderItems()}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {useContext} from \"react\";\r\nimport {Card} from \"../components/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nexport const Favorites = () => {\r\n    const { favorites, onAddFavorite, onAddToCart } = useContext(AppContext);\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex justify-between align-center mb-40\">\r\n                <h1>Мои Закладки</h1>\r\n            </div>\r\n            <div className=\"d-flex flex-wrap\">\r\n                {\r\n                    favorites.map((item, index) => (\r\n                        <Card\r\n                            key={index}\r\n                            favorited={true}\r\n                            onFavorite={onAddFavorite}\r\n                            onPlus={(obj) => onAddToCart(obj)}\r\n                            {...item}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {Card} from \"../components/Card\";\r\nimport {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const Orders = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [orders, setOrders] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const {data} = await axios.get(\"https://61237a91124d88001756829a.mockapi.io/orders\");\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert(\"Не удалось загрузить покупки\");\r\n        console.error(error)\r\n      }\r\n    })()\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex justify-between align-center mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(6)] : orders).map((item, index) => (\r\n          <Card\r\n            key={index}\r\n            loading={isLoading}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {useEffect, useState} from \"react\";\nimport {Route} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {Header} from \"./components/Header\";\nimport {Drawer} from \"./components/Drawer\";\nimport {Home} from \"./pages/Home\";\nimport {Favorites} from \"./pages/Favorites\";\nimport AppContext from \"./context\";\nimport {Orders} from \"./pages/Orders\";\n\nconst App = () => {\n  const [items, setItems] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [cardOpened, setCardOpened] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const [itemsResponse, cartResponse, favoritesResponse] = await Promise.all([\n          axios.get(\"https://61237a91124d88001756829a.mockapi.io/items\"),\n          axios.get(\"https://61237a91124d88001756829a.mockapi.io/Cart\"),\n          axios.get(\"https://61237a91124d88001756829a.mockapi.io/favorites\")\n        ])\n\n        setIsLoading(false);\n\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных :(');\n        console.error(error)\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(item => Number(item.parentId) === Number(obj.id));\n      if (findItem) {\n        setCartItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)))\n        await axios.delete(`https://61237a91124d88001756829a.mockapi.io/Cart/${findItem.id}`);\n      } else {\n        setCartItems(prev => [...prev, obj]);\n        const {data} = await axios.post(\"https://61237a91124d88001756829a.mockapi.io/Cart\", obj);\n        setCartItems((prev) => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item;\n        }))\n      }\n    } catch (error) {\n      alert(\"Ошибка при добавлении в корзину\");\n      console.error(error);\n    }\n  };\n\n  const onRemoveItem = async (id) => {\n    try {\n      await axios.delete(`https://61237a91124d88001756829a.mockapi.io/Cart/${id}`);\n      setCartItems(prev => prev.filter(item => Number(item.id) !== Number(id)));\n    } catch (error) {\n      alert(\"Ошибка при удалении из корзины\");\n      console.error(error);\n    };\n  }\n\n  const onAddFavorite = async (obj) => {\n    try {\n      const findFavorite = favorites.find((favObj) => Number(favObj.id) === Number(obj.id))\n      if (findFavorite) {\n        await axios.delete(`https://61237a91124d88001756829a.mockapi.io/favorites/${findFavorite.id}`);\n        setFavorites(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)));\n      } else {\n        setFavorites((prev) => [...prev, obj]);\n        const {data} = await axios.post('https://61237a91124d88001756829a.mockapi.io/favorites', obj);\n        setFavorites((prev) => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item;\n        }))\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  }\n\n  const isItemAdded = (id) => {\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n  const isFavoritesAdded = (id) => {\n    return favorites.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider\n      value={{items, cartItems, isItemAdded, isFavoritesAdded, favorites, setCardOpened, setCartItems, onAddFavorite}}>\n      <div className=\"wrapper clear\">\n        <Drawer\n          items={cartItems}\n          onClose={() => setCardOpened(false)}\n          onRemove={onRemoveItem}\n          opened={cardOpened}\n        />\n\n        <Header onClickCard={() => setCardOpened(true)}/>\n\n        <Route path=\"/\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddFavorite={onAddFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"/favorites\">\n          <Favorites/>\n        </Route>\n        <Route path=\"/orders\">\n          <Orders/>\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\n\nReactDOM.render(<Router><App/></Router>, document.getElementById('root'));\n"],"sourceRoot":""}